{"ast":null,"code":"import constant from \"./constant.js\";\nexport default function (radius, x, y) {\n  var nodes,\n    strength = constant(0.1),\n    strengths,\n    radiuses;\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n        dx = node.x - x || 1e-6,\n        dy = node.y - y || 1e-6,\n        r = Math.sqrt(dx * dx + dy * dy),\n        k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      node.vy += dy * k;\n    }\n  }\n  function initialize() {\n    if (!nodes) return;\n    var i,\n      n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n  force.initialize = function (_) {\n    nodes = _, initialize();\n  };\n  force.strength = function (_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n  force.radius = function (_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n  force.x = function (_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n  force.y = function (_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n  return force;\n}","map":{"version":3,"names":["constant","radius","x","y","nodes","strength","strengths","radiuses","force","alpha","i","n","length","node","dx","dy","r","Math","sqrt","k","vx","vy","initialize","Array","isNaN","_","arguments"],"sources":["D:/desk/数据可视化/project/xuxiake/node_modules/d3-force/src/radial.js"],"sourcesContent":["import constant from \"./constant.js\";\r\n\r\nexport default function(radius, x, y) {\r\n  var nodes,\r\n      strength = constant(0.1),\r\n      strengths,\r\n      radiuses;\r\n\r\n  if (typeof radius !== \"function\") radius = constant(+radius);\r\n  if (x == null) x = 0;\r\n  if (y == null) y = 0;\r\n\r\n  function force(alpha) {\r\n    for (var i = 0, n = nodes.length; i < n; ++i) {\r\n      var node = nodes[i],\r\n          dx = node.x - x || 1e-6,\r\n          dy = node.y - y || 1e-6,\r\n          r = Math.sqrt(dx * dx + dy * dy),\r\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\r\n      node.vx += dx * k;\r\n      node.vy += dy * k;\r\n    }\r\n  }\r\n\r\n  function initialize() {\r\n    if (!nodes) return;\r\n    var i, n = nodes.length;\r\n    strengths = new Array(n);\r\n    radiuses = new Array(n);\r\n    for (i = 0; i < n; ++i) {\r\n      radiuses[i] = +radius(nodes[i], i, nodes);\r\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\r\n    }\r\n  }\r\n\r\n  force.initialize = function(_) {\r\n    nodes = _, initialize();\r\n  };\r\n\r\n  force.strength = function(_) {\r\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\r\n  };\r\n\r\n  force.radius = function(_) {\r\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\r\n  };\r\n\r\n  force.x = function(_) {\r\n    return arguments.length ? (x = +_, force) : x;\r\n  };\r\n\r\n  force.y = function(_) {\r\n    return arguments.length ? (y = +_, force) : y;\r\n  };\r\n\r\n  return force;\r\n}\r\n"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,eAAe;AAEpC,eAAe,UAASC,MAAM,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACpC,IAAIC,KAAK;IACLC,QAAQ,GAAGL,QAAQ,CAAC,GAAG,CAAC;IACxBM,SAAS;IACTC,QAAQ;EAEZ,IAAI,OAAON,MAAM,KAAK,UAAU,EAAEA,MAAM,GAAGD,QAAQ,CAAC,CAACC,MAAM,CAAC;EAC5D,IAAIC,CAAC,IAAI,IAAI,EAAEA,CAAC,GAAG,CAAC;EACpB,IAAIC,CAAC,IAAI,IAAI,EAAEA,CAAC,GAAG,CAAC;EAEpB,SAASK,KAAKA,CAACC,KAAK,EAAE;IACpB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGP,KAAK,CAACQ,MAAM,EAAEF,CAAC,GAAGC,CAAC,EAAE,EAAED,CAAC,EAAE;MAC5C,IAAIG,IAAI,GAAGT,KAAK,CAACM,CAAC,CAAC;QACfI,EAAE,GAAGD,IAAI,CAACX,CAAC,GAAGA,CAAC,IAAI,IAAI;QACvBa,EAAE,GAAGF,IAAI,CAACV,CAAC,GAAGA,CAAC,IAAI,IAAI;QACvBa,CAAC,GAAGC,IAAI,CAACC,IAAI,CAACJ,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE,CAAC;QAChCI,CAAC,GAAG,CAACZ,QAAQ,CAACG,CAAC,CAAC,GAAGM,CAAC,IAAIV,SAAS,CAACI,CAAC,CAAC,GAAGD,KAAK,GAAGO,CAAC;MACpDH,IAAI,CAACO,EAAE,IAAIN,EAAE,GAAGK,CAAC;MACjBN,IAAI,CAACQ,EAAE,IAAIN,EAAE,GAAGI,CAAC;IACnB;EACF;EAEA,SAASG,UAAUA,CAAA,EAAG;IACpB,IAAI,CAAClB,KAAK,EAAE;IACZ,IAAIM,CAAC;MAAEC,CAAC,GAAGP,KAAK,CAACQ,MAAM;IACvBN,SAAS,GAAG,IAAIiB,KAAK,CAACZ,CAAC,CAAC;IACxBJ,QAAQ,GAAG,IAAIgB,KAAK,CAACZ,CAAC,CAAC;IACvB,KAAKD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,CAAC,EAAE,EAAED,CAAC,EAAE;MACtBH,QAAQ,CAACG,CAAC,CAAC,GAAG,CAACT,MAAM,CAACG,KAAK,CAACM,CAAC,CAAC,EAAEA,CAAC,EAAEN,KAAK,CAAC;MACzCE,SAAS,CAACI,CAAC,CAAC,GAAGc,KAAK,CAACjB,QAAQ,CAACG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAACL,QAAQ,CAACD,KAAK,CAACM,CAAC,CAAC,EAAEA,CAAC,EAAEN,KAAK,CAAC;IACvE;EACF;EAEAI,KAAK,CAACc,UAAU,GAAG,UAASG,CAAC,EAAE;IAC7BrB,KAAK,GAAGqB,CAAC,EAAEH,UAAU,CAAC,CAAC;EACzB,CAAC;EAEDd,KAAK,CAACH,QAAQ,GAAG,UAASoB,CAAC,EAAE;IAC3B,OAAOC,SAAS,CAACd,MAAM,IAAIP,QAAQ,GAAG,OAAOoB,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAGzB,QAAQ,CAAC,CAACyB,CAAC,CAAC,EAAEH,UAAU,CAAC,CAAC,EAAEd,KAAK,IAAIH,QAAQ;EACnH,CAAC;EAEDG,KAAK,CAACP,MAAM,GAAG,UAASwB,CAAC,EAAE;IACzB,OAAOC,SAAS,CAACd,MAAM,IAAIX,MAAM,GAAG,OAAOwB,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAGzB,QAAQ,CAAC,CAACyB,CAAC,CAAC,EAAEH,UAAU,CAAC,CAAC,EAAEd,KAAK,IAAIP,MAAM;EAC/G,CAAC;EAEDO,KAAK,CAACN,CAAC,GAAG,UAASuB,CAAC,EAAE;IACpB,OAAOC,SAAS,CAACd,MAAM,IAAIV,CAAC,GAAG,CAACuB,CAAC,EAAEjB,KAAK,IAAIN,CAAC;EAC/C,CAAC;EAEDM,KAAK,CAACL,CAAC,GAAG,UAASsB,CAAC,EAAE;IACpB,OAAOC,SAAS,CAACd,MAAM,IAAIT,CAAC,GAAG,CAACsB,CAAC,EAAEjB,KAAK,IAAIL,CAAC;EAC/C,CAAC;EAED,OAAOK,KAAK;AACd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}