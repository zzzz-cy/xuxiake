{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '../assets/img/page5.png';\nconst _hoisted_1 = {\n  class: \"page-content\"\n};\nconst _hoisted_2 = {\n  ref: \"chart\",\n  class: \"chart-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, null, 512), _cache[0] || (_cache[0] = _createElementVNode(\"div\", {\n    style: {\n      \"position\": \"absolute\",\n      \"right\": \"80px\",\n      \"top\": \"50%\",\n      \"transform\": \"translateY(-50%)\",\n      \"z-index\": \"10\"\n    }\n  }, [_createElementVNode(\"img\", {\n    src: _imports_0,\n    alt: \"Image\",\n    style: {\n      \"max-width\": \"300px\",\n      \"height\": \"auto\"\n    }\n  })], -1))]);\n}","map":{"version":3,"names":["_imports_0","class","ref","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","style","src","alt"],"sources":["D:\\desk\\数据可视化\\project\\xuxiake\\src\\components\\PageFive.vue"],"sourcesContent":["<template>\r\n  <div class=\"page-content\">\r\n    <div ref=\"chart\" class=\"chart-container\"></div>\r\n    <div style=\"position: absolute; right: 80px; top: 50%; transform: translateY(-50%); z-index: 10;\">\r\n        <img src=\"../assets/img/page5.png\" alt=\"Image\" style=\"max-width: 300px; height: auto;\">\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script lang=\"js\">\r\nimport * as echarts from 'echarts';\r\n\r\nexport default {\r\n  name: 'PageFive',\r\n  data() {\r\n    return {\r\n      colors: ['#c0d695', '#428675', '#83a78d', '#83a78d', '#83a78d'],\r\n      bgColor: '#90a07d',\r\n      itemStyle: {\r\n        star5: { color: '#a8b78c' },\r\n        star4: { color: '#428675' },\r\n        star3: { color: '#428675' },\r\n        star2: { color: '#428675' }\r\n      },\r\n      data: [\r\n        {\r\n          name: '自然景观',\r\n          itemStyle: { color: '#a9be7b' },\r\n          children: [\r\n            {\r\n              name: '山',\r\n              children: [\r\n                { name: '62', children: [{ name: '云阳山' }, { name: '雨母山' }, { name: '香炉山' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '峰',\r\n              children: [\r\n                { name: '17', children: [{ name: '紫微峰' }, { name: '祝融峰' }, { name: '回雁峰' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '崖',\r\n              children: [\r\n                { name: '5', children: [{ name: '观音崖' }, { name: '出水崖' }, { name: '舍身崖' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '岭',\r\n              children: [\r\n                { name: '15', children: [{ name: '金牛岭' }, { name: '和尚岭' }, { name: '兰麻岭' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '顶',\r\n              children: [\r\n                { name: '6', children: [{ name: '金宝顶' }, { name: '金顶' }, { name: '华顶' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '石林',\r\n              children: [\r\n                { name: '11', children: [{ name: '狮子林' }, { name: '旎檀林' }, { name: '牛恋石' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '其他山',\r\n              children: [\r\n                { name: '4', children: [{ name: '四平坡' }, { name: '松坡' }, { name: '虎坡' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '江',\r\n              children: [\r\n                { name: '7', children: [{ name: '江渡' }, { name: '湘江' }, { name: '盘江' }] },\r\n              ]\r\n            },\r\n            \r\n            {\r\n              name: '瀑布',\r\n              children: [\r\n                { name: '5', children: [{ name: '水帘洞瀑布' }, { name: '石梁飞瀑' }, { name: '断桥三曲瀑布' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '湖',\r\n              children: [\r\n                { name: '2', children: [{ name: '茈碧湖' }, { name: '太湖' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '潭',\r\n              children: [\r\n                { name: '7', children: [{ name: '云集潭' }, { name: '龙潭' }, { name: '香米龙潭' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '池',\r\n              children: [\r\n                { name: '8', children: [{ name: '温泉浴池' }, { name: '玉泉池' }, { name: '九台温泉' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '其他水',\r\n              children: [\r\n                { name: '14', children: [{ name: '皇雩仙' }, { name: '水车坝' }, { name: '清海子' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '岩',\r\n              children: [\r\n                { name: '48', children: [{ name: '灵岩' }, { name: '朝阳岩' }, { name: '澹岩' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '洞',\r\n              children: [\r\n                { name: '50', children: [{ name: '秦人洞' }, { name: '麻叶洞' }, { name: '水帘洞' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '滩',\r\n              children: [\r\n                { name: '13', children: [{ name: '钩栏滩' }, { name: '兰麻滩' }, { name: '苦竹滩' }] },\r\n              ]\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          name: '人文景观',\r\n          itemStyle: { color: '#c0d695' },\r\n          children: [\r\n            {\r\n              name: '寺庙',\r\n              children: [\r\n                { name: '63', children: [{ name: '上封寺' }, { name: '天台寺' }, { name: '福严寺' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '祠堂',\r\n              children: [\r\n                { name: '7', children: [{ name: '潇湘祠' }, { name: '柳子祠' }, { name: '濂溪祠' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '宫',\r\n              children: [\r\n                { name: '9', children: [{ name: '静乐宫' }, { name: '迎恩宫' }, { name: '遇真宫' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '庵',\r\n              children: [\r\n                { name: '11', children: [{ name: '绿竹庵' }, { name: '清泉庵' }, { name: '朝阳庵' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '亭',\r\n              children: [\r\n                { name: '2', children: [{ name: '怡云亭' }, { name: '玉虚亭' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '桥',\r\n              children: [\r\n                { name: '15', children: [{ name: '草桥' }, { name: '九宫桥' }, { name: '南溪桥' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '寨',\r\n              children: [\r\n                { name: '6', children: [{ name: '东基寨' }, { name: '佛光寨' }, { name: '白王寨' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '阁',\r\n              children: [\r\n                { name: '12', children: [{ name: '观音阁' }, { name: '千佛阁' }, { name: '真武阁' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '观',\r\n              children: [\r\n                { name: '6', children: [{ name: '七星观' }, { name: '白基观' }, { name: '云台观' }] },\r\n              ]\r\n            },\r\n            {\r\n              name: '其他',\r\n              children: [\r\n                { name: '27', children: [{ name: '大罗城' }, { name: '参将府' }, { name: '大禹碑' }] },\r\n              ]\r\n            },\r\n          ]\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  mounted() {\r\n    this.formatData();\r\n    this.initChart();\r\n  },\r\n  methods: {\r\n    formatData() {\r\n      const { data, colors, itemStyle } = this;\r\n      for (let j = 0; j < data.length; ++j) {\r\n        const level1 = data[j].children;\r\n        for (let i = 0; i < level1.length; ++i) {\r\n          const block = level1[i].children;\r\n          const bookScore = [];\r\n          let bookScoreId;\r\n          for (let star = 0; star < block.length; ++star) {\r\n            let style = (function () {\r\n                bookScoreId = 0;\r\n                return itemStyle.star5;\r\n              }\r\n            )(block[star].name);\r\n            block[star].label = { color: style.color, downplay: { opacity: 0.5 } };\r\n            if (block[star].children) {\r\n              style = { opacity: 1, color: style.color };\r\n              block[star].children.forEach((book) => {\r\n                book.value = 1;\r\n                book.itemStyle = style;\r\n                book.label = { color: style.color };\r\n                let value = bookScoreId === 0 || bookScoreId === 3 ? 5 : 1;\r\n                if (bookScore[bookScoreId]) {\r\n                  bookScore[bookScoreId].value += value;\r\n                } else {\r\n                  bookScore[bookScoreId] = { color: colors[bookScoreId], value };\r\n                }\r\n              });\r\n            }\r\n          }\r\n          level1[i].itemStyle = { color: data[j].itemStyle.color };\r\n        }\r\n      }\r\n    },\r\n    initChart() {\r\n      const chart = echarts.init(this.$refs.chart);\r\n      this.chart = chart; // Save the chart instance\r\n\r\n      // Get the container size (width and height)\r\n      const containerWidth = this.$refs.chart.offsetWidth;\r\n      const containerHeight = this.$refs.chart.offsetHeight;\r\n\r\n      // Calculate chart radius based on container size (keeping similar proportions)\r\n      const minDimension = Math.min(containerWidth, containerHeight);\r\n      const radius = minDimension / 11; // Set the base radius to be half of the smallest dimension\r\n\r\n      chart.setOption({\r\n        backgroundColor: 'transparent',\r\n        color: this.colors,\r\n        series: [\r\n          {\r\n            type: 'sunburst',\r\n            center: ['50%', '50%'],\r\n            radius: ['0%', '110%'],\r\n            data: this.data,\r\n            sort: function (a, b) {\r\n              if (a.depth === 1) return b.getValue() - a.getValue();\r\n              return a.dataIndex - b.dataIndex;\r\n            },\r\n            label: { rotate: 'radial', color: this.bgColor },\r\n            itemStyle: { borderColor: this.bgColor, borderWidth: 1.5 },\r\n            levels: [\r\n              {},\r\n              { r0: 0, r: radius, label: { rotate: 0, fontSize:14,fontWeight: 'bold' } },\r\n              { r0: radius, r: radius*2.9, \r\n                label:{fontSize:14,fontWeight: 'bold'}\r\n              },\r\n              {\r\n                r0: radius*3,\r\n                r: radius*3.4,\r\n                itemStyle: { shadowBlur: 2, shadowColor: 'transparent', color: 'transparent' },\r\n                label: { rotate: 'tangential', fontSize: 14, color: this.bgColor }\r\n              },\r\n              {\r\n                r0: radius*3.55,\r\n                r: radius*3.675,\r\n                itemStyle: { shadowBlur: 80, shadowColor: 'transparent' },\r\n                label: { position: 'outside',show: false,opacity: 0, textShadowBlur: 5, textShadowColor: 'transparent',fontSize:15,fontWeight:'bold'},\r\n                downplay: { label: { opacity: 0.5 }},\r\n                emphasis: { label: { opacity: 1,show: true} } \r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.page-content {\r\n  width: 100%;\r\n  height: 100%;\r\n  \r\n}\r\n.chart-container {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n\r\n</style>\r\n"],"mappings":";OAIaA,UAA6B;;EAHnCC,KAAK,EAAC;AAAc;;EAClBC,GAAG,EAAC,OAAO;EAACD,KAAK,EAAC;;;uBADzBE,mBAAA,CAKM,OALNC,UAKM,GAJJC,mBAAA,CAA+C,OAA/CC,UAA+C,c,0BAC/CD,mBAAA,CAEM;IAFDE,KAA4F,EAA5F;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;EAA4F,IAC7FF,mBAAA,CAAuF;IAAlFG,GAA6B,EAA7BR,UAA6B;IAACS,GAAG,EAAC,OAAO;IAACF,KAAuC,EAAvC;MAAA;MAAA;IAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}