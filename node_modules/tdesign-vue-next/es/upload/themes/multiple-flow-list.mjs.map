{"version":3,"file":"multiple-flow-list.mjs","sources":["../../../src/upload/themes/multiple-flow-list.tsx"],"sourcesContent":["import { computed, defineComponent, toRefs, PropType, ref } from 'vue';\nimport {\n  BrowseIcon as TdBrowseIcon,\n  DeleteIcon as TdDeleteIcon,\n  CheckCircleFilledIcon as TdCheckCircleFilledIcon,\n  ErrorCircleFilledIcon as TdErrorCircleFilledIcon,\n  TimeFilledIcon as TdTimeFilledIcon,\n  FileExcelIcon as TdFileExcelIcon,\n  FilePdfIcon as TdFilePdfIcon,\n  FileWordIcon as TdFileWordIcon,\n  FilePowerpointIcon as TdFilePowerpointIcon,\n  FileIcon as TdFileIcon,\n  VideoIcon as TdVideoIcon,\n} from 'tdesign-icons-vue-next';\nimport isFunction from 'lodash/isFunction';\nimport isObject from 'lodash/isObject';\nimport useGlobalIcon from '../../hooks/useGlobalIcon';\nimport ImageViewer, { ImageViewerProps } from '../../image-viewer';\nimport { CommonDisplayFileProps } from '../interface';\nimport { commonProps } from '../constants';\nimport TButton from '../../button';\nimport { UploadFile, TdUploadProps } from '../type';\nimport useDrag, { UploadDragEvents } from '../hooks/useDrag';\nimport {\n  abridgeName,\n  returnFileSize,\n  IMAGE_REGEXP,\n  FILE_PDF_REGEXP,\n  FILE_EXCEL_REGEXP,\n  FILE_WORD_REGEXP,\n  FILE_PPT_REGEXP,\n  VIDEO_REGEXP,\n} from '../../_common/js/upload/utils';\nimport TLoading from '../../loading';\nimport { useTNodeJSX } from '../../hooks';\nimport Link from '../../link';\nimport { UploadConfig } from '../../config-provider';\nimport Image from '../../image';\n\nexport interface ImageFlowListProps extends CommonDisplayFileProps {\n  uploadFiles?: (toFiles?: UploadFile[]) => void;\n  cancelUpload?: (context: { e: MouseEvent; file?: UploadFile }) => void;\n  dragEvents: UploadDragEvents;\n  disabled?: boolean;\n  isBatchUpload?: boolean;\n  draggable?: boolean;\n  onPreview?: TdUploadProps['onPreview'];\n  uploadButton?: TdUploadProps['uploadButton'];\n  cancelUploadButton?: TdUploadProps['cancelUploadButton'];\n}\n\nexport default defineComponent({\n  name: 'UploadMultipleFlowList',\n\n  props: {\n    ...commonProps,\n    showThumbnail: Boolean,\n    uploadFiles: Function as PropType<ImageFlowListProps['uploadFiles']>,\n    cancelUpload: Function as PropType<ImageFlowListProps['cancelUpload']>,\n    dragEvents: Object as PropType<ImageFlowListProps['dragEvents']>,\n    disabled: Boolean,\n    isBatchUpload: Boolean,\n    draggable: Boolean,\n    showImageFileName: Boolean,\n    uploadButton: Object as PropType<ImageFlowListProps['uploadButton']>,\n    cancelUploadButton: Object as PropType<ImageFlowListProps['cancelUploadButton']>,\n    onPreview: Function as PropType<ImageFlowListProps['onPreview']>,\n  },\n\n  setup(props, { slots }) {\n    // locale 已经在 useUpload 中统一处理优先级\n    const { uploading, disabled, displayFiles, classPrefix, accept } = toRefs(props);\n    const uploadPrefix = computed(() => `${classPrefix.value}-upload`);\n\n    const locale = computed(() => props.locale as UploadConfig);\n\n    const renderTNodeJSX = useTNodeJSX();\n\n    const {\n      BrowseIcon,\n      DeleteIcon,\n      CheckCircleFilledIcon,\n      ErrorCircleFilledIcon,\n      TimeFilledIcon,\n      FileExcelIcon,\n      FilePdfIcon,\n      FileWordIcon,\n      FilePowerpointIcon,\n      FileIcon,\n      VideoIcon,\n    } = useGlobalIcon({\n      BrowseIcon: TdBrowseIcon,\n      DeleteIcon: TdDeleteIcon,\n      CheckCircleFilledIcon: TdCheckCircleFilledIcon,\n      ErrorCircleFilledIcon: TdErrorCircleFilledIcon,\n      TimeFilledIcon: TdTimeFilledIcon,\n      FileExcelIcon: TdFileExcelIcon,\n      FilePdfIcon: TdFilePdfIcon,\n      FileWordIcon: TdFileWordIcon,\n      FilePowerpointIcon: TdFilePowerpointIcon,\n      FileIcon: TdFileIcon,\n      VideoIcon: TdVideoIcon,\n    });\n\n    const drag = useDrag(props.dragEvents, accept);\n\n    const currentPreviewFile = ref<UploadFile[]>([]);\n    const previewIndex = ref(0);\n\n    const uploadText = computed(() => {\n      if (uploading.value) return `${locale.value.progress.uploadingText}`;\n      return locale.value.triggerUploadText.normal;\n    });\n\n    const innerDragEvents = computed(() => {\n      const draggable = props.draggable === undefined ? true : props.draggable;\n      return draggable\n        ? {\n            onDrop: drag.handleDrop,\n            onDragenter: drag.handleDragenter,\n            onDragover: drag.handleDragover,\n            onDragleave: drag.handleDragleave,\n          }\n        : {};\n    });\n\n    const getStatusMap = () => {\n      const iconMap = {\n        success: <CheckCircleFilledIcon />,\n        fail: <ErrorCircleFilledIcon />,\n        progress: <TLoading />,\n        waiting: <TimeFilledIcon />,\n      };\n      const { progress } = locale.value;\n      const textMap = {\n        success: progress?.successText,\n        fail: progress?.failText,\n        progress: progress?.uploadingText,\n        waiting: progress?.waitingText,\n      };\n      return {\n        iconMap,\n        textMap,\n      };\n    };\n\n    const renderEmpty = () => (\n      <div class={`${uploadPrefix.value}__flow-empty`}>\n        {drag.dragActive.value ? locale.value.dragger.dragDropText : locale.value.dragger.clickAndDragText}\n      </div>\n    );\n\n    const renderImgItem = (file: UploadFile, index: number) => {\n      const { iconMap, textMap } = getStatusMap();\n      const fileName = props.abridgeName && file.name ? abridgeName(file.name, ...props.abridgeName) : file.name;\n      return (\n        <li class={`${uploadPrefix.value}__card-item`} key={file.name + index + file.percent + file.status || '0'}>\n          <div\n            class={[\n              `${uploadPrefix.value}__card-content`,\n              { [`${classPrefix.value}-is-bordered`]: file.status !== 'waiting' },\n            ]}\n          >\n            {['fail', 'progress'].includes(file.status) && (\n              <div\n                class={`${uploadPrefix.value}__card-status-wrap ${uploadPrefix.value}__${props.theme}-${file.status}`}\n              >\n                {iconMap[file.status as 'fail' | 'progress']}\n                <p>\n                  {textMap[file.status as 'fail' | 'progress']}\n                  {props.showUploadProgress && file.status === 'progress' ? ` ${file.percent}%` : ''}\n                </p>\n              </div>\n            )}\n            {(['waiting', 'success'].includes(file.status) || (!file.status && file.url)) && (\n              <Image class={`${uploadPrefix.value}__card-image`} src={file.url || file.raw} error=\"\" loading=\"\" />\n            )}\n            <div class={`${uploadPrefix.value}__card-mask`}>\n              {(file.url || file.raw) && !['progress', 'fail'].includes(file.status) && (\n                <span class={`${uploadPrefix.value}__card-mask-item`}>\n                  <BrowseIcon\n                    onClick={({ e }: { e: MouseEvent }) => {\n                      previewIndex.value = index;\n                      currentPreviewFile.value = displayFiles.value;\n                      props.onPreview?.({ file, index, e });\n                    }}\n                  />\n                  <span class={`${uploadPrefix.value}__card-mask-item-divider`}></span>\n                </span>\n              )}\n              {!disabled.value && (\n                <span\n                  class={`${uploadPrefix.value}__card-mask-item ${uploadPrefix.value}__delete`}\n                  onClick={(e: MouseEvent) => props.onRemove({ e, index, file })}\n                >\n                  <DeleteIcon />\n                </span>\n              )}\n            </div>\n          </div>\n          {props.showImageFileName && (\n            <p class={[`${uploadPrefix.value}__card-name`, `${uploadPrefix.value}__flow-status`]}>\n              {['success', 'waiting'].includes(file.status) && iconMap[file.status]}\n              {fileName}\n            </p>\n          )}\n        </li>\n      );\n    };\n\n    const renderStatus = (file: UploadFile) => {\n      const { iconMap, textMap } = getStatusMap();\n      return (\n        <div class={`${uploadPrefix.value}__flow-status`}>\n          {iconMap[file.status]}\n          <span class={`${uploadPrefix.value}__${props.theme}-${file.status}`}>\n            {file.response?.error ? file.response?.error || textMap[file.status] : textMap[file.status]}\n            {props.showUploadProgress && file.status === 'progress' ? ` ${file.percent || 0}%` : ''}\n          </span>\n        </div>\n      );\n    };\n\n    const renderNormalActionCol = (file: UploadFile, index: number) => (\n      <td>\n        <TButton\n          theme=\"primary\"\n          variant=\"text\"\n          content={locale.value?.triggerUploadText?.delete}\n          class={`${uploadPrefix.value}__delete`}\n          onClick={(e: MouseEvent) => props.onRemove({ e, index, file })}\n        ></TButton>\n      </td>\n    );\n\n    // batchUpload action col\n    const renderBatchActionCol = (index: number) =>\n      // 第一行数据才需要合并单元格\n      index === 0 ? (\n        <td rowSpan={displayFiles.value.length} class={`${uploadPrefix.value}__flow-table__batch-row`}>\n          <TButton\n            theme=\"primary\"\n            variant=\"text\"\n            content={locale.value?.triggerUploadText?.delete}\n            class={`${uploadPrefix.value}__delete`}\n            onClick={(e: MouseEvent) => props.onRemove({ e, index: -1, file: undefined })}\n          ></TButton>\n        </td>\n      ) : null;\n\n    const getFileThumbnailIcon = (fileType: string) => {\n      if (FILE_PDF_REGEXP.test(fileType)) {\n        return <FilePdfIcon />;\n      }\n      if (FILE_EXCEL_REGEXP.test(fileType)) {\n        return <FileExcelIcon />;\n      }\n      if (FILE_WORD_REGEXP.test(fileType)) {\n        return <FileWordIcon />;\n      }\n      if (FILE_PPT_REGEXP.test(fileType)) {\n        return <FilePowerpointIcon />;\n      }\n      if (VIDEO_REGEXP.test(fileType)) {\n        return <VideoIcon />;\n      }\n      return <FileIcon />;\n    };\n\n    const renderFileThumbnail = (file: UploadFile) => {\n      if (!file || (!file.raw && file.url)) return null;\n      const fileType = file.raw.type;\n      const className = `${uploadPrefix.value}__file-thumbnail`;\n      if (IMAGE_REGEXP.test(fileType)) {\n        return (\n          <Image\n            class={className}\n            src={file.url || file.raw}\n            fit=\"scale-down\"\n            error=\"\"\n            loading=\"\"\n            onClick={(e: MouseEvent) => {\n              e.preventDefault();\n              currentPreviewFile.value = [file];\n              previewIndex.value = 0;\n              props.onPreview?.({ file, index: 0, e });\n            }}\n          />\n        );\n      }\n      return <div class={className}>{getFileThumbnailIcon(fileType)}</div>;\n    };\n\n    const renderFileList = () => {\n      const customList = renderTNodeJSX('fileListDisplay', {\n        params: {\n          cancelUpload: props.cancelUpload,\n          uploadFiles: props.uploadFiles,\n          onPreview: props.onPreview,\n          onRemove: props.onRemove,\n          toUploadFiles: props.toUploadFiles,\n          sizeOverLimitMessage: props.sizeOverLimitMessage,\n          locale: props.locale,\n          files: props.displayFiles,\n          dragEvents: innerDragEvents.value,\n        },\n      });\n      if (customList || props.fileListDisplay) return customList;\n      return (\n        <table class={`${uploadPrefix.value}__flow-table`} {...innerDragEvents.value}>\n          <thead>\n            <tr>\n              <th>{locale.value.file?.fileNameText}</th>\n              <th style={{ minWidth: '120px' }}>{locale.value.file?.fileSizeText}</th>\n              <th style={{ minWidth: '120px' }}>{locale.value.file?.fileStatusText}</th>\n              {disabled.value ? null : <th>{locale.value.file?.fileOperationText}</th>}\n            </tr>\n          </thead>\n          <tbody>\n            {!displayFiles.value.length && (\n              <tr>\n                <td colSpan={4}>{renderEmpty()}</td>\n              </tr>\n            )}\n            {displayFiles.value.map((file, index) => {\n              // 合并操作出现条件为：当前为合并上传模式且列表内没有待上传文件\n              const showBatchUploadAction = props.isBatchUpload;\n              const deleteNode =\n                showBatchUploadAction && displayFiles.value.every((item) => item.status === 'success' || !item.status)\n                  ? renderBatchActionCol(index)\n                  : renderNormalActionCol(file, index);\n              const fileName = props.abridgeName?.length ? abridgeName(file.name, ...props.abridgeName) : file.name;\n              const thumbnailNode = props.showThumbnail ? (\n                <div class={`${uploadPrefix.value}__file-info`}>\n                  {renderFileThumbnail(file)}\n                  {fileName}\n                </div>\n              ) : (\n                fileName\n              );\n              const fileNameNode = file.url ? (\n                // 此次需要设置disabled为false 否则链接会跟随表单不可点击\n                <Link href={file.url} target=\"_blank\" hover=\"color\" disabled={false}>\n                  {thumbnailNode}\n                </Link>\n              ) : (\n                thumbnailNode\n              );\n              return (\n                <tr key={file.name + index + file.size}>\n                  <td class={`${uploadPrefix.value}__file-name`} key={file.name + file.url}>\n                    {fileNameNode}\n                  </td>\n                  <td>{returnFileSize(file.size)}</td>\n                  <td>{renderStatus(file)}</td>\n                  {disabled.value ? null : deleteNode}\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      );\n    };\n\n    const renderImageList = () => {\n      const customList = renderTNodeJSX('fileListDisplay', {\n        params: {\n          cancelUpload: props.cancelUpload,\n          uploadFiles: props.uploadFiles,\n          onRemove: props.onRemove,\n          onPreview: props.onPreview,\n          toUploadFiles: props.toUploadFiles,\n          sizeOverLimitMessage: props.sizeOverLimitMessage,\n          locale: props.locale,\n          files: props.displayFiles,\n          dragEvents: innerDragEvents.value,\n        },\n      });\n      if (customList || props.fileListDisplay) return customList;\n      return (\n        <ul class={`${uploadPrefix.value}__card clearfix`}>\n          {props.displayFiles.map((file, index) => renderImgItem(file, index))}\n        </ul>\n      );\n    };\n\n    return () => {\n      const cardClassName = `${uploadPrefix.value}__flow-card-area`;\n      const cancelUploadDisabled = disabled.value || !uploading.value;\n      const hasCancelUploadTNode = slots.uploadButton || isFunction(props.uploadButton);\n      const uploadButtonDisabled = Boolean(disabled.value || uploading.value || !displayFiles.value.length);\n      const hasUploadButtonTNode = slots.cancelUploadButton || isFunction(props.cancelUploadButton);\n      return (\n        <div class={`${uploadPrefix.value}__flow ${uploadPrefix.value}__flow-${props.theme}`}>\n          <div class={`${uploadPrefix.value}__flow-op`}>\n            {slots.default?.()}\n            {props.placeholder && (\n              <small class={`${uploadPrefix.value}__flow-placeholder ${uploadPrefix.value}__placeholder`}>\n                {props.placeholder}\n              </small>\n            )}\n          </div>\n\n          {props.theme === 'image-flow' && (\n            <div class={cardClassName} {...innerDragEvents.value}>\n              {displayFiles.value.length ? renderImageList() : renderEmpty()}\n            </div>\n          )}\n\n          {props.theme === 'file-flow' &&\n            (displayFiles.value.length ? (\n              renderFileList()\n            ) : (\n              <div class={cardClassName} {...innerDragEvents.value}>\n                {renderEmpty()}\n              </div>\n            ))}\n\n          {!props.autoUpload && (props.uploadButton !== null || props.cancelUploadButton !== null) && (\n            <div class={`${uploadPrefix.value}__flow-bottom`}>\n              {props.cancelUploadButton !== null &&\n                (hasCancelUploadTNode ? (\n                  renderTNodeJSX('cancelUploadButton', {\n                    params: {\n                      disabled: cancelUploadDisabled,\n                      cancelUploadText: locale.value?.cancelUploadText,\n                      cancelUpload: props.cancelUpload,\n                    },\n                  })\n                ) : (\n                  <TButton\n                    theme=\"default\"\n                    disabled={cancelUploadDisabled}\n                    content={locale.value?.cancelUploadText}\n                    class={`${uploadPrefix.value}__cancel`}\n                    onClick={(e) => props.cancelUpload?.({ e })}\n                    {...(isObject(props.cancelUploadButton) ? props.cancelUploadButton : {})}\n                  ></TButton>\n                ))}\n              {props.uploadButton !== null &&\n                (hasUploadButtonTNode ? (\n                  renderTNodeJSX('uploadButton', {\n                    params: {\n                      disabled: uploadButtonDisabled,\n                      uploading: uploading.value,\n                      uploadText: uploadText.value,\n                      uploadFiles: props.uploadFiles,\n                    },\n                  })\n                ) : (\n                  <TButton\n                    disabled={uploadButtonDisabled}\n                    theme=\"primary\"\n                    loading={uploading.value}\n                    class={`${uploadPrefix.value}__continue`}\n                    content={uploadText.value}\n                    onClick={() => props.uploadFiles?.()}\n                    {...(isObject(props.uploadButton) ? props.uploadButton : {})}\n                  ></TButton>\n                ))}\n            </div>\n          )}\n\n          <ImageViewer\n            images={currentPreviewFile.value.map((t) => t.url || t.raw)}\n            visible={!!currentPreviewFile.value.length}\n            onClose={() => {\n              currentPreviewFile.value = [];\n            }}\n            index={previewIndex.value}\n            onIndexChange={(val) => (previewIndex.value = val)}\n            {...(props.imageViewerProps as ImageViewerProps)}\n          ></ImageViewer>\n        </div>\n      );\n    };\n  },\n});\n"],"names":["_isSlot","s","Object","prototype","toString","call","_isVNode","defineComponent","name","props","_objectSpread","commonProps","showThumbnail","Boolean","uploadFiles","Function","cancelUpload","dragEvents","disabled","isBatchUpload","draggable","showImageFileName","uploadButton","cancelUploadButton","onPreview","setup","_ref","slots","_toRefs","toRefs","uploading","displayFiles","classPrefix","accept","uploadPrefix","computed","concat","value","locale","renderTNodeJSX","useTNodeJSX","_useGlobalIcon","useGlobalIcon","BrowseIcon","TdBrowseIcon","DeleteIcon","TdDeleteIcon","CheckCircleFilledIcon","TdCheckCircleFilledIcon","ErrorCircleFilledIcon","TdErrorCircleFilledIcon","TimeFilledIcon","TdTimeFilledIcon","FileExcelIcon","TdFileExcelIcon","FilePdfIcon","TdFilePdfIcon","FileWordIcon","TdFileWordIcon","FilePowerpointIcon","TdFilePowerpointIcon","FileIcon","TdFileIcon","VideoIcon","TdVideoIcon","drag","useDrag","currentPreviewFile","ref","previewIndex","uploadText","progress","uploadingText","triggerUploadText","normal","innerDragEvents","onDrop","handleDrop","onDragenter","handleDragenter","onDragover","handleDragover","onDragleave","handleDragleave","getStatusMap","iconMap","success","_createVNode","fail","TLoading","waiting","textMap","successText","failText","waitingText","renderEmpty","dragActive","dragger","dragDropText","clickAndDragText","renderImgItem","file","index","_getStatusMap","fileName","abridgeName","apply","_toConsumableArray","percent","status","_defineProperty","includes","theme","showUploadProgress","url","Image","raw","onClick","_ref3","_props$onPreview","e","onRemove","renderStatus","_file$response","_file$response2","_getStatusMap2","response","error","renderNormalActionCol","_locale$value","TButton","renderBatchActionCol","_locale$value2","length","getFileThumbnailIcon","fileType","FILE_PDF_REGEXP","test","FILE_EXCEL_REGEXP","FILE_WORD_REGEXP","FILE_PPT_REGEXP","VIDEO_REGEXP","renderFileThumbnail","type","className","IMAGE_REGEXP","_props$onPreview2","preventDefault","renderFileList","_locale$value$file","_locale$value$file2","_locale$value$file3","_locale$value$file4","customList","params","toUploadFiles","sizeOverLimitMessage","files","fileListDisplay","_mergeProps","fileNameText","minWidth","fileSizeText","fileStatusText","fileOperationText","map","_props$abridgeName","showBatchUploadAction","deleteNode","every","item","thumbnailNode","fileNameNode","Link","_default","size","returnFileSize","renderImageList","_slots$default","_locale$value3","_locale$value4","cardClassName","cancelUploadDisabled","hasCancelUploadTNode","isFunction","uploadButtonDisabled","hasUploadButtonTNode","placeholder","autoUpload","cancelUploadText","_props$cancelUpload","isObject","_props$uploadFiles","ImageViewer","t","onClose","onIndexChange","val","imageViewerProps"],"mappings":"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"}